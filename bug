dup lock error
dup2 should change lock logic
